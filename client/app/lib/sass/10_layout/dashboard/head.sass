=head_font($fs: 2em)
  #title h1
    font-size: $fs
  #title h2
    font-size: $fs*.6

=head_color($bc: #eee)
  background: transparentize($bc, .8)
  +box-shadow(0, 4px, 3px, #777)
  #title a
    +text-shadow(1px, 1px, 3px, lighten($c-soil, 15%))
    +transition(.4s linear all)
    color: darken($c-soil, 5%)
    &:hover
      +transition(.8s linear all)
      +text-shadow(1px, 1px, 3px, lighten($c-soil, 25%))
      color: lighten($c-soil, 5%)

=head_height($hg)
  height: $hg
  #title, #nav, .user
    height: $hg
    max-height: $hg
  .user
    right: $hg*.75 + 5px
  .avatar img
    width: $hg*.75

=head_cell_base($wd)
  position: absolute
  width: $wd

%head_title
  +head_cell_base(20%)
  +ext(f-hobo)
  left: 0
  border-bottom: 1px solid lightgrey
  h1
    margin: 4px 0 0
  .avatar
    float: left

%head_state_base
  li.state
    color: darken($c-sky, 35)
    h1
      padding: 5px
      font-size: 1.5rem
      +ext(font_bold)
    h2
      padding-left: 5px
    .tube:hover, .info:hover
      color: darken($c-sky, 10)
      cursor: pointer

%head_nav
  +head_cell_base(80%)
  right: 0
  border-bottom: 1px solid #c5c2c3
  li
    +ext(inline_block)
  +ext(head_state_base)
  li.user
    +position(absolute)
    .name
      margin: 8px 0 6px
      +float(right)
    .switches
      +ext(rel_inline_block)
      +ext(full_width)
      height: 20px
    .switches li
      +float(right)
      margin-left: 10px
      select
        +position(absolute)
        font-size: 1rem
        bottom: 2px
        left: 0
  li.avatar
    +float(right)
    margin-top: 3px

=head_title($wd: 70%)
  h1, h2
    a
      width: $wd

%head_rwd
  +tablet-landscape-only
    +head_title(60%)
    a span
      font-size: .9rem
  +tablet-portrait-only
    +head_title(50%)
  +tablet-portrait-and-below
    .full
      display: none
  +mobile-landscape-only
    +head_title(35%)
  +mobile-portrait-and-below
    h1, h2
      display: none

%head_base
  +head_height(55px)
  display: table-row
  padding: 5px 5px 10px 5px
  margin-bottom: 3px
  #title
    +ext(head_title)
    +ext(head_rwd)
  #title a
    +ext(inline_block)
    width: 70%
  #nav
    +ext(head_nav)
  .avatar
    padding: 3px

.db #header
  +ext(head_base)
  +head_color(#bbb)
  +head_font(1.4rem)
